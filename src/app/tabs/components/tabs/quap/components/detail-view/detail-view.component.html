<div class="detail-content">
  <div class="title-bar">
    <h1 class="title">{{'quap.detail.title' | translate}} <span *ngIf="aspects.length === 1">- {{aspects[0].name}}</span></h1>

    <div class="button-bar">
      <button mat-icon-button (click)="switchToEvaluationView()">
        <mat-icon>edit</mat-icon>
      </button>
      <button mat-icon-button (click)="close()">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>

  <div class="content" *ngIf="aspectHelp">
    <span *ngIf="!hasHelp()">{{'quap.detail.no-help' | translate}}</span>

    <div class="aspect" *ngFor="let aspect of aspects">
      <span class="aspect-name" *ngIf="aspects.length > 1 && aspectHelp[aspect.id].help.length > 0">{{aspect.name}}</span>
      <ng-container *ngFor="let help of aspectHelp[aspect.id].help">
        <div [ngClass]="['severity', getColor(aspect.id, help.questionId, help.severity)]" *ngIf="help.answer !== 1">
          <p>{{help.help}}</p>
        </div>
      </ng-container>
    </div>
  </div>
</div>
